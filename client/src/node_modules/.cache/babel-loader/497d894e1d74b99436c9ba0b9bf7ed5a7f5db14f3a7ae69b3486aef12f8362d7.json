{"ast":null,"code":"import { runnerCreateTrainings } from './apiServices';\nasync function aNewTraining() {\n  function createTraining(trainingsDaysFilteredHolidays, kmsPerDay, distanceRace, longDistance) {\n    if (trainingsDaysFilteredHolidays.length === 0) {\n      console.log('No training days available');\n    }\n    const trainingDate = trainingsDaysFilteredHolidays;\n    let kmToRun = Number(longDistance);\n    const kmToIncrease = kmsPerDay();\n    function increaseKm() {\n      if (kmToRun < Number(distanceRace)) {\n        kmToRun += kmToIncrease;\n      } else {\n        kmToRun = longDistance;\n      }\n    }\n    const copyOfTrainingsDate = [...trainingDate];\n    while (trainingDate.length > 0) {\n      runnerCreateTrainings(copyOfTrainingsDate.shift().toISOString().split('T')[0], kmToRun).then(increaseKm());\n    }\n  }\n  function kmsPerDay(dateRace, longDistance, distanceRace, holidaysFrom, holidaysTo) {\n    const raceDay = new Date(dateRace);\n    const currentDay = new Date();\n    const daysUntilRaceArr = [];\n    while (currentDay <= raceDay) {\n      daysUntilRaceArr.push(new Date(currentDay));\n      currentDay.setDate(currentDay.getDate() + 1);\n    }\n    const kmToIncrease = distanceRace - longDistance;\n    const trainingsDaysFilteredDaysOff = daysUntilRaceArr.filter(day => !daysOff.includes(day.getDay().toString()));\n    trainingsDaysFilteredHolidays = trainingsDaysFilteredDaysOff.filter(day => day < new Date(holidaysFrom) || day > new Date(holidaysTo));\n    const kmPerDay = kmToIncrease / trainingsDaysFilteredHolidays.length;\n    return kmPerDay;\n  }\n}\nexport default aNewTraining;","map":{"version":3,"names":["runnerCreateTrainings","aNewTraining","createTraining","trainingsDaysFilteredHolidays","kmsPerDay","distanceRace","longDistance","length","console","log","trainingDate","kmToRun","Number","kmToIncrease","increaseKm","copyOfTrainingsDate","shift","toISOString","split","then","dateRace","holidaysFrom","holidaysTo","raceDay","Date","currentDay","daysUntilRaceArr","push","setDate","getDate","trainingsDaysFilteredDaysOff","filter","day","daysOff","includes","getDay","toString","kmPerDay"],"sources":["/Users/ineslozano/Sk-/client/src/functions.js"],"sourcesContent":["import { runnerCreateTrainings } from './apiServices';\n\nasync function aNewTraining (){\nfunction createTraining(trainingsDaysFilteredHolidays, kmsPerDay, distanceRace, longDistance) {\n  if (trainingsDaysFilteredHolidays.length === 0) {\n    console.log('No training days available')\n  }\n  const trainingDate = trainingsDaysFilteredHolidays;\n  let kmToRun = Number(longDistance);\n  const kmToIncrease = kmsPerDay()\n\n  function increaseKm() {\n    if (kmToRun < Number(distanceRace)) {\n      kmToRun += kmToIncrease\n    } else {\n      kmToRun = longDistance;\n    }\n  }\n  const copyOfTrainingsDate = [...trainingDate]\n\n  while (trainingDate.length > 0) {\n    runnerCreateTrainings(copyOfTrainingsDate.shift().toISOString().split('T')[0], kmToRun)\n      .then(increaseKm())\n  }\n}\n\nfunction kmsPerDay(dateRace,longDistance, distanceRace, holidaysFrom, holidaysTo) {\n    const raceDay = new Date(dateRace);\n    const currentDay = new Date();\n    const daysUntilRaceArr = [];\n\n    while (currentDay <= raceDay) {\n      daysUntilRaceArr.push(new Date(currentDay));\n      currentDay.setDate(currentDay.getDate() + 1);\n    }\n\n    const kmToIncrease = distanceRace - longDistance;\n    const trainingsDaysFilteredDaysOff = daysUntilRaceArr.filter((day) => !daysOff.includes(day.getDay().toString()));\n\n    trainingsDaysFilteredHolidays = trainingsDaysFilteredDaysOff.filter((day) => day < new Date(holidaysFrom) || day > new Date(holidaysTo));\n    const kmPerDay = kmToIncrease / trainingsDaysFilteredHolidays.length;\n\n    return kmPerDay;\n  }\n}\n\nexport default aNewTraining\n"],"mappings":"AAAA,SAASA,qBAAqB,QAAQ,eAAe;AAErD,eAAeC,YAAYA,CAAA,EAAG;EAC9B,SAASC,cAAcA,CAACC,6BAA6B,EAAEC,SAAS,EAAEC,YAAY,EAAEC,YAAY,EAAE;IAC5F,IAAIH,6BAA6B,CAACI,MAAM,KAAK,CAAC,EAAE;MAC9CC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC3C;IACA,MAAMC,YAAY,GAAGP,6BAA6B;IAClD,IAAIQ,OAAO,GAAGC,MAAM,CAACN,YAAY,CAAC;IAClC,MAAMO,YAAY,GAAGT,SAAS,CAAC,CAAC;IAEhC,SAASU,UAAUA,CAAA,EAAG;MACpB,IAAIH,OAAO,GAAGC,MAAM,CAACP,YAAY,CAAC,EAAE;QAClCM,OAAO,IAAIE,YAAY;MACzB,CAAC,MAAM;QACLF,OAAO,GAAGL,YAAY;MACxB;IACF;IACA,MAAMS,mBAAmB,GAAG,CAAC,GAAGL,YAAY,CAAC;IAE7C,OAAOA,YAAY,CAACH,MAAM,GAAG,CAAC,EAAE;MAC9BP,qBAAqB,CAACe,mBAAmB,CAACC,KAAK,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAEP,OAAO,CAAC,CACpFQ,IAAI,CAACL,UAAU,CAAC,CAAC,CAAC;IACvB;EACF;EAEA,SAASV,SAASA,CAACgB,QAAQ,EAACd,YAAY,EAAED,YAAY,EAAEgB,YAAY,EAAEC,UAAU,EAAE;IAC9E,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACJ,QAAQ,CAAC;IAClC,MAAMK,UAAU,GAAG,IAAID,IAAI,CAAC,CAAC;IAC7B,MAAME,gBAAgB,GAAG,EAAE;IAE3B,OAAOD,UAAU,IAAIF,OAAO,EAAE;MAC5BG,gBAAgB,CAACC,IAAI,CAAC,IAAIH,IAAI,CAACC,UAAU,CAAC,CAAC;MAC3CA,UAAU,CAACG,OAAO,CAACH,UAAU,CAACI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;IAC9C;IAEA,MAAMhB,YAAY,GAAGR,YAAY,GAAGC,YAAY;IAChD,MAAMwB,4BAA4B,GAAGJ,gBAAgB,CAACK,MAAM,CAAEC,GAAG,IAAK,CAACC,OAAO,CAACC,QAAQ,CAACF,GAAG,CAACG,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEjHjC,6BAA6B,GAAG2B,4BAA4B,CAACC,MAAM,CAAEC,GAAG,IAAKA,GAAG,GAAG,IAAIR,IAAI,CAACH,YAAY,CAAC,IAAIW,GAAG,GAAG,IAAIR,IAAI,CAACF,UAAU,CAAC,CAAC;IACxI,MAAMe,QAAQ,GAAGxB,YAAY,GAAGV,6BAA6B,CAACI,MAAM;IAEpE,OAAO8B,QAAQ;EACjB;AACF;AAEA,eAAepC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}